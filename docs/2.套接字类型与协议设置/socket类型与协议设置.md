## Socket类型与协议设置

### 协议

协议就是为了完成数据交换而定好的约定.

### 协议族(Protocal Family)

Socket通信支持多种协议, 我们可以通过`socket`函数的第一个参数指定socket使用的协议.协议的分类信息成为协议族,socket支持的协议族可分成以下几类:


|名称|协议族|
|:---:|:---|
|PF_INET|IPv4互联网协议族|
|PF_INET6|IPv6互联网协议族|
|PF_LOCAL|本地通信的UNIX协议族|
|PF_PACKET|底层套接字的协议族|
|PF_IPX|IPX Novel协议族|

### socket类型

Socket类型就是socket的数据传输方式,我们可以通过`socket`函数的第二个参数指定.

根据这个参数我们可以知道:<font color="#dd0000">一种协议可能存在多种数据传输方式</font>

#### 两种代表性的数据传输方式

##### 面向连接(SOCKET_STREAM)

> 可靠的, 按序传递的, 基于字节的面向连接的数据传输

- 传输过程中的数据不会丢失;
- 按序传输数据;
- 传输的数据不存在数据边界;

收发数据的socket内部有缓冲(buffer), 其实就是字节数组.所以收到数据并不意味着马上调用`read`函数.

##### 面向消息(SOCKET_DGRAM)

> 不可靠的, 不按次序传递的, 以数据的高速传输为目的的套接字

- 强调快速传输数据而非传输顺序;
- 传输的数据可能丢失也可能损毁;
- 传输的数据有数据边界;
- 限制每次传输的数据大小;

由于<font color="#dd0000">同一协议族中可能存在多个相同数据传输方式的协议</font>, 所以还需要第三个参数确定指定具体的协议信息.